@using FindHikingFellow.Core.Models.Admin
@model IEnumerable<JoinedServiceModel>

@{
    ViewData["Title"] = "All Joined Tours";
}

<h3 class="text-center">@this.ViewData["Title"]</h3>

@if (Model.Count() == 0)
{
    <h4>There are no joined tours at the moment</h4>
}

    <table class="table table-sm mt-3">
        <thead class="table-info">
            <tr>
                <th scope="col">Image</th>
                <th scope="col">Tour</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var tour in Model)
            {
                <tr class="table-success">
                    <td>
                        <img src="@tour.TourImageUrl" class="img-fluid" alt="Tour Image" style="max-width: 100%;" />
                    </td>
                    <td>
                        <p><strong>Name: </strong>@tour.TourName</p>
                        <p><strong>Organiser: </strong>@tour.OrganiserFullName (@tour.OrganiserEmail)</p>
                        <p><strong>Participants: </strong></p>
                        <ul>
                            @foreach (var participant in tour.Participants)
                            {
                                <li>@participant.ParticipantFullName (@participant.ParticipantEmail)</li>
                            }
                        </ul>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <br />

<style>
    table {
        table-layout: fixed;
        width: 100%;
    }
</style>